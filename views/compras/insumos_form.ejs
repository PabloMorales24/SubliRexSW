<%- include('../partials/header') %>

<section class="container py-4" style="max-width:520px;">
  <h2 class="h4 mb-3">
    <%= insumo.id ? 'Editar' : 'Nuevo' %> insumo
  </h2>

  <form action="<%= insumo.id
                  ? '/compras/insumos/' + insumo.id + '/editar'
                  : '/compras/insumos/nuevo' %>"
        method="post"
        enctype="multipart/form-data">

    <!-- Nombre -->
    <div class="mb-3">
      <label class="form-label">Nombre</label>
      <input type="text" name="nombre" class="form-control" required
             value="<%= insumo.nombre %>">
    </div>

    <!-- Descripción -->
    <div class="mb-3">
      <label class="form-label">Descripción</label>
      <textarea name="descripcion" rows="3"
                class="form-control"><%= insumo.descripcion || '' %></textarea>
    </div>

    <!-- Precio -->
    <div class="mb-3">
      <label class="form-label">Precio (Q)</label>
      <input type="number" name="precio" step="0.01" min="0"
             class="form-control"
             value="<%= insumo.precio || '' %>">
    </div>

    <!-- Imagen -->
    <div class="mb-3">
      <label class="form-label">Imagen</label>
      <input type="file" name="imagen" class="form-control" accept="image/*">

      <% if (insumo.imagen) { %>
        <small class="d-block mt-2">Actual:</small>
        <img src="<%= insumo.imagen %>" style="height:60px;">
      <% } %>
    </div>

    <button class="btn btn-primary">
      <%= insumo.id ? 'Actualizar' : 'Crear' %>
    </button>
    <a href="/compras/insumos" class="btn btn-secondary">Cancelar</a>
  </form>
</section>

<%- include('../partials/footer') %>
